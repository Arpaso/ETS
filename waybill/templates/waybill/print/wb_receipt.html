{%load extra_tags%}<tr>
            <td>
                <table cellpadding="0" cellspacing="0" border="1px"  >
                    <thead class="wb_head"><tr><th colspan="2">Certification of Commodities Received</th></tr></thead>
                    <tr>
                        <td><small  style="font-size:x-small;">Location:</small>{{object.recipientLocation}}</td>
                        <td ><small style="font-size:x-small;">Arrival Date:    </small>{{object.recipientArrivalDate}}</td>
                    </tr>
                    <tr>
                        <td><small style="font-size:x-small;">Consignee:</small>    {{object.recipientConsingee}}</td>
                        <td ><small style="font-size:x-small;">Start Discharge Date:</small>    {{object.recipientStartDischargeDate}}</td>
                    </tr>
                    <tr>
                        <td><small style="font-size:x-small;">Name:    </small>{{rec_person}}</td>
                        <td ><small style="font-size:x-small;">End Discharge Date:</small>{{object.recipientEndDischargeDate}}</td>
                    </tr>
                    <tr>
                        <td><small style="font-size:x-small;">Title:     </small>{{object.recipientTitle}}</td>
                        <td ><small style="font-size:x-small;">Distance in KM:</small>    {{object.recipientDistance|floatformat}}</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table cellpadding="0" cellspacing="0" border="1px" >
                    <thead class="wb_head">
                        <tr><th colspan="11">Observations</th></tr>
                    </thead>
                    <tr   style="font-size:x-small;">
                        <td><sup>Receipt Condition</sup></td>
                        <td colspan="2"><sup>Good</sup></td>
                        <td colspan="5"><sup>Lost or Damaged cargo</sup></td>
                        
                        <td colspan="2"><sup>Total received</sup></td>
                    </tr>
                    <tr  style="font-size:x-small;">
<td><sup>SI No</sup></td>    <td><sup>Units</sup></td>    <td><sup>Net MT</sup></td>    <td><sup>Units</sup></td>    <td><sup>Net MT</sup></td>    <td><sup >(L)oss or (D)amage</sup></td>    <td><sup>Type (specify)</sup></td><td>Reason</td>    <td><sup>Units</sup></td>    <td><sup>Net MT</sup></td>
                    </tr>
                    {%for lineitem in object.loadingdetail_set.select_related%}
                    <tr style="font-size:small; text-align:right;">
<td style="text-align:left;"><span>ID {{forloop.counter}}. {{lineitem.siNo.coi_code}}</span></td>
<td>{%if lineitem.siNo.isBulk%}-{%else%}{{lineitem.numberUnitsGood|floatformat}}{%endif%}</td>
<td>{%if lineitem.siNo.isBulk%}{{lineitem.numberUnitsGood|floatformat:3}}{%else%}{{lineitem.calcNetRecievedGood|floatformat:3}}{%endif%}</td>
<td style="text-align:center;">
{%if lineitem.siNo.isBulk%}-{%else%}
{%ifnotequal lineitem.numberUnitsLost 0%}
    L:{{lineitem.numberUnitsLost|floatformat:3}}
    {%endifnotequal%}
    {%ifnotequal lineitem.numberUnitsDamaged 0%}
    {%ifnotequal lineitem.numberUnitsLost 0%}/{%endifnotequal%}
    D:{{lineitem.numberUnitsDamaged|floatformat:3}}
    {%endifnotequal%}
{%endif%}
    &nbsp;
</td>

<td style="text-align:center;">&nbsp;
{%if lineitem.siNo.isBulk%}
    {%ifnotequal lineitem.numberUnitsLost 0%}
        L:{{lineitem.numberUnitsLost|floatformat:3}}
        {%endifnotequal%}
        {%ifnotequal lineitem.numberUnitsDamaged 0%}
        {%ifnotequal lineitem.numberUnitsLost 0%}/{%endifnotequal%}
        D:{{lineitem.numberUnitsDamaged|floatformat:3}}
    {%endifnotequal%}
{%else%}
    {%ifnotequal lineitem.numberUnitsLost 0%}
        L:{{lineitem.calcNetRecievedLost|floatformat:3}}
        {%endifnotequal%}
        {%ifnotequal lineitem.numberUnitsDamaged 0%}
        {%ifnotequal lineitem.numberUnitsLost 0%}/{%endifnotequal%}
        D:{{lineitem.calcNetRecievedDamaged|floatformat:3}}
    {%endifnotequal%}
{%endif%}
    </td>
    
<td style="text-align:center;">&nbsp;{%ifnotequal lineitem.numberUnitsLost 0%}L{%ifnotequal lineitem.numberUnitsDamaged 0%}/{%endifnotequal%}{%endifnotequal%} {%ifnotequal lineitem.numberUnitsDamaged 0%}D{%endifnotequal%}</td>

<td style="text-align:left;">&nbsp;<!-- type-->
{%ifnotequal lineitem.numberUnitsLost 0%}L:{{lineitem.unitsLostType}} {%ifnotequal lineitem.numberUnitsDamaged 0%}<br>{%endifnotequal%}{%endifnotequal%} 
{%ifnotequal lineitem.numberUnitsDamaged 0%}D:{{lineitem.unitsDamagedType}} {%endifnotequal%}
</td>
<td style="text-align:left;">&nbsp;<!--reason-->
{%ifnotequal lineitem.numberUnitsLost 0%}L:{{lineitem.unitsLostReason|truncatesmart:20}} {%ifnotequal lineitem.numberUnitsDamaged 0%}<br>{%endifnotequal%}{%endifnotequal%} 
{%ifnotequal lineitem.numberUnitsDamaged 0%}D:{{lineitem.unitsDamagedReason|truncatesmart:20}} {%endifnotequal%}

</td>


<td>
{%if lineitem.siNo.isBulk%}-{%else%}{{lineitem.calcTotalReceivedUnits|floatformat:3}}{%endif%}
</td>
<td>
{%if lineitem.siNo.isBulk%}{{lineitem.calcTotalReceivedUnits|floatformat:3}}{%else%}{{lineitem.calcTotalReceivedNet|floatformat:3}}{%endif%}
</td>    
                        
                    </tr>
                    {%endfor%}
                                        {%for lineitem in extra_lines%}

                    <tr  style="font-size:small;">
                        <td>ID {{forloop.counter|add:object.loadingdetail_set.select_related.count}}.</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        
                    </tr>
                    {%endfor%}

                    <tr>
                        <td colspan="10"><sup>Reciptient Remarks</sup>{{object.recipientRemarks}}
                        {%if object.containerOneRemarksReciept%}
                        <br>Container 1 Remarks:{{object.containerOneRemarksReciept}}
                        {%endif%}
                        {%if object.containerTwoRemarksReciept%}
                        <br>Container 2 Remarks:{{object.containerTwoRemarksReciept}}
                        {%endif%}
                        <br><br></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr><td><table cellpadding="0" cellspacing="0" border="1px" ><tr><td>
        <p style="font-size: x-small">On behalf of the Consignee I hereby certify receipt of the commodities loaded, unless endorsed as above.
        <br>Name, signature and stamp:
        {%if object.recipientSigned%}
<div style='font-size:14px'>{{rec_person}}<br>Date: {{object.recipientSignedTimestamp|date}}</div>
{%endif%}
        </p>
        <p style="font-size: x-small">Endorse this section with an official stamp
        
        </p></td><td>
        <p style="font-size: x-small">On behalf of the Transport Contractor I hereby certify delivery of the commodities loaded, unless endorsed as above.<br>Name, signature and stamp
        {%if object.recipientSigned%}
<div style='font-size:14px'>{{object.transportDriverName|upper}}<br>Date: {{object.recipientSignedTimestamp|date}}</div>
{%endif%}</p>
        <p style="font-size: x-small">Endorse this section with an official stamp</p></td></tr></table></td>
</tr>

