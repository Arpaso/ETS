{% extends "base_template.html" %}
{% load i18n %}

{% block title %}{% trans "Stock items" %}{% endblock %}

{% block content %}
<h3>{% trans "Stock List" %}</h3>
<table cellpadding="0" cellspacing="0" border="0" class="display" id='stocklist'>
  <thead>
    <tr>
      <th>{% trans "Location" %}</th>
      <th>{% trans "Warehouse" %}</th>
      <th>{% trans "Project Number" %}</th>
      <th>{% trans "Commodity" %}</th>
      <th>{% trans "SI" %}</th>
      <th>{% trans "State" %}</th>
      <th>{% trans "Units" %}</th>
      <th>{% trans "Unit Net Weight (kg)" %}</th>
      <th>{% trans "Unit Gross Weight (kg)"%}</th>
      <th>{% trans "Net Tonnage"%}</th>
      <th>{% trans "Gross Tonnage"%}</th>
      
    </tr>
  </thead>
  <tbody>
    {% for item in object_list %}
    <tr style="{%if item.quality_code != 'G'%}color:red;{%endif%}{%if item.number_of_units == 0%}background-color:red;{%endif%}" >
      <td>{{ item.warehouse.location.name }}</td>
      <td>{{ item.warehouse.name }}</td>
      <td>{{item.project_number}}</td>
      <td>{{ item.commodity }}</td>
      <td>{{ item.si_code }}</td>
      <td>{{ item.quality_description }}</td>
      <td>{%if item.is_bulk%}{{ item.number_of_units}}kg{%endif%}
      {%if not item.is_bulk%}{{ item.number_of_units|floatformat:0 }}{%endif%}
      </td>
      <td>{{ item.unit_weight_net }}</td>
      <td>{{ item.unit_weight_gross }}</td>
      <td>{{ item.calculate_total_net}} </td>      
      <td>{{ item.calculate_total_gross}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block script %}
{{ block.super }}
<script charset="utf-8">
  $(document).ready(function() {
    $('#stocklist').dataTable();
  } );
</script>
{% endblock script %}